function genSugarTable(){let e=document.getElementById("tabSugar"),t=document.getElementById("alertSugarBox"),n=Number(document.getElementById("startRange").value),a=Number(document.getElementById("endRange").value),l=Number(document.getElementById("D0_tSugar").value.replace(",",".")),d=Number(document.getElementById("t0_tSugar").value),r=Number(document.getElementById("step_sugarTable").value),i=calcTempCof(l,d);isNaN(l)||i<n||i>a?(t.innerHTML=`<b>Зверніть увагу</b>, початкова густина ${0===l?"":l} за межами діапазону ${n}-${a}`,t.classList.remove("none-d")):t.classList.add("none-d"),e.className="alert alert-light";let o='\n    <table class="table table-sm table-striped align-middle">\n      <thead>\n        <tr>\n          <th>Густина,<br>г/л</th>\n          <th>Цукристість,<br> г/100 cm<sup>3</sup></th>\n        </tr>\n      </thead>\n      <tbody class="table-group-divider">';for(let e=n;e<a;e+=r)if(e<i||i<n||i>a||isNaN(i)){o+=`\n              <tr>\n                <td>\n                  <div>${e}</div>\n                </td>\n                <td>\n                  <div>${(.26678527537*e-269.55213512).toFixed(2)}</div>\n                </td>\n              </tr>`}else{let t=.26678527537*i-269.55213512;o+=`\n              <tr class="table-primary">\n                <td>\n                  <div><b>${checkDecimal(i)?i.toFixed(2):i.toFixed(0)}</b></div>\n                </td>\n                <td>\n                  <div><b>${t.toFixed(2)}</b></div>\n                </td>\n              </tr>`,(checkDecimal(i)||i%r!==0)&&(e-=r),i=2e3}o+="</tbody></table>",e.innerHTML=o}function calcTempCof(e,t){return t>20?e+.2*(t-20):t<20?e-.2*(20-t):e}function checkDecimal(e){return e-Math.trunc(e)>0}function genSpiritTable(){let e=document.getElementById("tabSpirit"),t=parseFloat(document.getElementById("D_start").value.replace(",",".")),n=Number(document.getElementById("D_moment").value.replace(",",".")),a=Number(document.getElementById("step_spiritTable").value),l=document.getElementById("resultContainer");if(n<990&&t<1150||isNaN(t)||isNaN(n))return e.className="alert alert-warning",e.textContent="Все добре, продовжуйте...",l.classList.add("d-none"),void(l.textContent="");if(t<=n)return e.className="alert alert-danger",e.textContent="Зверніть увагу, цільова густина має бути меньше початкової",l.classList.add("d-none"),void(l.textContent="");if(n>=990&&n<999)return e.className="alert alert-danger",e.textContent="Цільова густина має бути більше 998",l.classList.add("d-none"),void(l.textContent="");if(t>1150||n<999)return e.className="alert alert-danger",e.textContent="Некоректні значення. Одна з густин за межали діапазону (1150-999) ",l.classList.add("d-none"),void(l.textContent="");if(isNaN(t)||isNaN(n))return;e.className="alert alert-light";let d='\n    <table class="table table-sm table-striped align-middle">\n      <thead>\n        <tr>\n          <th>Густина,<br>г/л</th>\n          <th>Спирт,<br> об.%</th>\n          <th>Цукор,<br> г/100 cm<sup>3</sup></th>\n        </tr>\n      </thead>\n      <tbody class="table-group-divider">';const r=Number((.26678527537*t-269.55213512).toFixed(2));let i=0,o=0,s=0,c=0;for(let e=t;e>989;e-=a)if(e>n){let n=.131*(t-e);const a=r-1.69*n;if(a<0)break;d+=`\n              <tr>\n                <td>\n                  <div>${e}</div>\n                </td>\n                <td>\n                  <div>${n.toFixed(2)}</div>\n                </td>\n                <td>\n                  <div>${a.toFixed(2)}</div>\n                </td>\n              </tr>`,checkDecimal(e)&&(e=Math.trunc(e))}else{let l=.131*(t-n);const u=r-1.69*l;if(u<0)break;d+=`\n                <tr class="table-primary">\n                <td>\n                  <div><b>${checkDecimal(n)?n.toFixed(2):n.toFixed(0)}</b></div>\n                </td>\n                 <td>\n                  <div><b>${l.toFixed(2)}</b></div>\n                </td>\n                <td>\n                  <div><b>${u.toFixed(2)}</b></div>\n                </td>\n              </tr>`,i=l,o=u,s=1.69*l,(checkDecimal(n)||e-n!==0)&&(e+=a),c=n,n=0}let u=`\n    <b>Початкова цукристість</b> : ${r.toFixed(2)} г/100 cm<sup>3</sup><br>\n    <b>Різниця густин</b> : ${(t-c).toFixed(2)} г/л<br>\n    <b>Спиртуозність сусла</b> : ${i.toFixed(2)} об.%<br>\n    <b>Цукристість сусла</b> : ${o.toFixed(2)} г/100 cm<sup>3</sup><br>\n    <b>Зброджені цукри</b> : ${s.toFixed(2)} г/100 cm<sup>3</sup>\n     `;l.className="alert alert-primary",l.classList.remove("d-none"),l.innerHTML=u,d+="</tbody></table>",e.innerHTML=d}function scrollToTab1(){const e=document.getElementById("flush-collapseTabOne");new bootstrap.Collapse(e,{show:!0});e.scrollIntoView({behavior:"smooth"});const t=document.getElementById("description_t1");if(!t.classList.contains("show")){new bootstrap.Collapse(t,{show:!0})}}function makeIntOnly(e,t=null){e.addEventListener("input",()=>{let t=e.value;t=t.replace(/[^0-9.,]/g,"");const n=t.search(/[.,]/);if(-1!==n){const e=t.slice(0,n+1),a=t.slice(n+1).replace(/[.,]/g,"");t=e+a}t=t.replace(/^0+(?=\d)/,""),e.value=t}),e.addEventListener("blur",()=>{let t=e.value;/[.,]$/.test(t)&&(0===parseFloat(t.replace(",","."))?t="0":t+="0"),t=t.replace(",","."),e.value=t})}document.querySelectorAll("#tableForm input").forEach(e=>{e.addEventListener("input",()=>{validationInput(e)})}),document.querySelectorAll(".int-only").forEach(e=>makeIntOnly(e)),document.querySelectorAll(".int-only-3dec").forEach(e=>makeIntOnly(e,3));
