function genSugarTable(){let t=document.getElementById("tabSugar"),e=document.getElementById("alertSugarBox"),n=Number(document.getElementById("startRange").value),d=Number(document.getElementById("endRange").value),a=Number(document.getElementById("D0_tSugar").value),l=Number(document.getElementById("t0_tSugar").value),r=Number(document.getElementById("step_sugarTable").value),i=calcTempCof(a,l);isNaN(a)||i<n||i>d?(e.innerHTML=`<b>Зверніть увагу</b>, початкова густина за межами діапазону ${n}-${d}`,e.classList.remove("none-d")):e.classList.add("none-d"),t.className="alert alert-light";let o='\n    <table class="table table-sm table-striped align-middle">\n      <thead>\n        <tr>\n          <th>Густина,<br>г/л</th>\n          <th>Цукристість,<br> г/100 cm<sup>3</sup></th>\n        </tr>\n      </thead>\n      <tbody>';for(let t=n;t<d;t+=r)if(t<i||i<n||i>d||isNaN(i)){o+=`\n              <tr>\n                <td>\n                  <div>${t}</div>\n                </td>\n                <td>\n                  <div>${(.26678527537*t-269.55213512).toFixed(2)}</div>\n                </td>\n              </tr>`}else{let e=.26678527537*i-269.55213512;o+=`\n              <tr class="table-primary">\n                <td>\n                  <div><b>${checkDecimal(i)?i.toFixed(2):i.toFixed(0)}</b></div>\n                </td>\n                <td>\n                  <div><b>${e.toFixed(2)}</b></div>\n                </td>\n              </tr>`,(checkDecimal(i)||i%r!==0)&&(t-=r),i=2e3}o+="</tbody></table>",t.innerHTML=o}function calcTempCof(t,e){return e>20?t+.2*(e-20):e<20?t-.2*(20-e):t}function checkDecimal(t){return t-Math.trunc(t)>0}function genSpiritTable(){let t=document.getElementById("tabSpirit"),e=Number(document.getElementById("D_start").value),n=Number(document.getElementById("D_moment").value),d=Number(document.getElementById("step_spiritTable").value),a=document.getElementById("resultContainer");if(n<990&&e<1150)return t.className="alert alert-warning",t.textContent="Все добре, продовжуйте...",a.classList.add("d-none"),void(a.textContent="");if(e<=n)return t.className="alert alert-danger",t.textContent="Зверніть увагу, цільова густина має бути меньше початкової",a.classList.add("d-none"),void(a.textContent="");if(n>=990&&n<999)return t.className="alert alert-danger",t.textContent="Цільова густина має бути більше 998",a.classList.add("d-none"),void(a.textContent="");if(e>1150||n<999)return t.className="alert alert-danger",t.textContent="Некоректні значення. Доступний диапазон густин (1150-999) ",a.classList.add("d-none"),void(a.textContent="");t.className="alert alert-light";let l='\n    <table class="table table-sm table-striped align-middle">\n      <thead>\n        <tr>\n          <th>Густина,<br>г/л</th>\n          <th>Спирт,<br> об.%</th>\n          <th>Цукор,<br> г/100 cm<sup>3</sup></th>\n        </tr>\n      </thead>\n      <tbody>';const r=Number((.26678527537*e-269.55213512).toFixed(2));let i=0,o=0,s=0,c=0;for(let t=e;t>989;t-=d)if(t>n){let n=.131*(e-t);const d=r-1.69*n;if(d<0)break;l+=`\n              <tr>\n                <td>\n                  <div>${t}</div>\n                </td>\n                <td>\n                  <div>${n.toFixed(2)}</div>\n                </td>\n                <td>\n                  <div>${d.toFixed(2)}</div>\n                </td>\n              </tr>`}else{let a=.131*(e-n);const m=r-1.69*a;if(m<0)break;l+=`\n                <tr class="table-primary">\n                <td>\n                  <div><b>${checkDecimal(n)?n.toFixed(2):n.toFixed(0)}</b></div>\n                </td>\n                 <td>\n                  <div><b>${a.toFixed(2)}</b></div>\n                </td>\n                <td>\n                  <div><b>${m.toFixed(2)}</b></div>\n                </td>\n              </tr>`,i=a,o=m,s=1.69*a,(checkDecimal(n)||t-n!==0)&&(t+=d),c=n,n=0}let m=`\n    <b>Початкова цукристість</b> : ${r.toFixed(2)} г/100 cm<sup>3</sup><br>\n    <b>Різниця густин</b> : ${(e-c).toFixed(2)} г/л<br>\n    <b>Спиртуозність сусла</b> : ${i.toFixed(2)} об.%<br>\n    <b>Цукристість сусла</b> : ${o.toFixed(2)} г/100 cm<sup>3</sup><br>\n    <b>Зброджені цукри</b> : ${s.toFixed(2)} г/100 cm<sup>3</sup>\n     `;a.className="alert alert-primary",a.classList.remove("d-none"),a.innerHTML=m,l+="</tbody></table>",t.innerHTML=l}function scrollToTab1(){const t=document.getElementById("flush-collapseTabOne");new bootstrap.Collapse(t,{show:!0});t.scrollIntoView({behavior:"smooth"});const e=document.getElementById("description_t1");if(!e.classList.contains("show")){new bootstrap.Collapse(e,{show:!0})}}function makeIntOnly(t){t.addEventListener("keydown",t=>{"."!==t.key&&","!==t.key||t.preventDefault()}),t.addEventListener("input",()=>{let e=t.value.replace(/[^0-9]/g,"");const n=parseInt(e,10);t.value=isNaN(n)?"":String(n)})}document.querySelectorAll("#tableForm input").forEach(t=>{t.addEventListener("input",()=>{validationInput(t)})}),document.querySelectorAll(".int-only").forEach(t=>makeIntOnly(t));
