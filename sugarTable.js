let isHydrometerT1=!0;function genSugarTable(){isHydrometerT1?genSugarTableByDensity():genSugarTableByRefract()}function genSugarTableByRefract(){let e=document.getElementById("tabSugar"),t=document.getElementById("alertSugarBox"),n=document.getElementById("resultContainer_tbl1"),s=Number(document.getElementById("lowerLimitRange_t1").value),d=Number(document.getElementById("upperLimitRange_t1").value),l=Number(document.getElementById("D0_tSugar").value),i=Number(document.getElementById("t0_tSugar").value),a=Number(document.getElementById("tempCalibrationRefractorsT1").value),r=Number(document.getElementById("step_sugarTable").value);if(checkTemperature(i,null,a,t,n,e))return;if(checkBoundsRange(isHydrometerT1,l,s,d,t,n,e))return;let o=correctReadingsTemp(isHydrometerT1,l,i,a),c='\n    <table class="table table-sm table-striped align-middle caption-top table-bordered">\n     <caption>\n        <small>* Таблиця розрахована для температури сусла 20 °C</small>\n    </caption>\n      <thead class="table-sticky-thead table-warning">\n        <tr>\n            <th class="text-center">Сухі реч.,<br>мас.% </th>\n            <th class="text-center">Густина,<br>г/л</th>\n            <th class="text-center">Цукристість,<br> г/100 cm<sup>3</sup></th>\n        </tr>\n      </thead>\n      <tbody class="table-group-divider">',u=0,m=0,b=0,v=0;for(let e=s;e<=d;e+=r)if(Math.round(10*e)/10<o||o<s||o>d||isNaN(o)){let t=bxToSugar.f(e),n=densityToBx.inv(e);c+=`\n              <tr>\n                <td class="text-center">\n                  <div>${e.toFixed(1)}</div>\n                </td>\n                <td class="text-center">\n                 <div>${(1e3*n).toFixed(1)}</div>\n                </td>\n                <td class="text-center">\n                  <div>${t.toFixed(2)}</div>\n                </td>\n              </tr>`}else{let t=bxToSugar.f(o),n=densityToBx.inv(o);c+=`\n              <tr class="table-primary">\n                <td class="text-center">\n                  <div><b>${formatNumberByPattern(o,"###0.##")}</b></div>\n                </td>\n                <td class="text-center">\n                  <div><b>${(1e3*n).toFixed(1)}</b></div>\n                </td>\n                <td class="text-center">\n                  <div><b>${t.toFixed(2)}</b></div>\n                </td>\n              </tr>`,o!==Math.round(10*e)/10&&(e-=r),v=o*n-t,u=t,m=l,b=1e3*n,o=2e3}if(0===m||0===u)return t.innerHTML="<b>Зверніть увагу!</b></b>Потрібно зменьшити крок розрахунку або змінити межі діапазону вимірювання",t.classList.remove("none-d"),n.classList.add("d-none"),n.textContent="",void(e.textContent="");let p=`\n    <div class="px-2">\n            <b>РЕЗУЛЬТАТ:</b>\n            <div class="row">\n                <div class="col-sm-4">Цукристість</div>\n                <div class="col-sm-7 result result2"><b>${u.toFixed(2)}</b> г/100 cm<sup>3</sup></div>\n            </div>\n            <div class="row">\n                <div class="col-sm-4">Густина</div>\n                <div class="col-sm-7 result result2"><b>${b.toFixed(1)}</b> г/л</div>\n            </div>\n            <hr class="separator">\n            <b>ДОДАТКОВО:</b>\n             <div class="row">\n                <div class="col-sm-4">Екстракт</div>\n                <div class="col-sm-7 result result2"><b>${(v+u).toFixed(2)}</b> г/100 cm<sup>3</sup></div>\n             </div>\n             <div class="row">\n                <div class="col-sm-4">Зведений екстракт</div>\n                <div class="col-sm-7 result result2"><b>${v.toFixed(2)}</b> г/100 cm<sup>3</sup></div>\n             </div>\n             <div class="row">\n                <div class="col-sm-4">Потенційна спиртуозність</div>\n                <div class="col-sm-7 result result2"><b>${(.592*u).toFixed(2)}</b> об.%</div>\n             </div>\n    </div>\n     `;n.className="alert alert-primary",n.classList.remove("d-none"),n.innerHTML=p,c+="</tbody></table>",e.innerHTML=c}function genSugarTableByDensity(){let e=document.getElementById("tabSugar"),t=document.getElementById("alertSugarBox"),n=document.getElementById("resultContainer_tbl1"),s=Number(document.getElementById("lowerLimitRange_t1").value),d=Number(document.getElementById("upperLimitRange_t1").value),l=Number(document.getElementById("D0_tSugar").value),i=Number(document.getElementById("t0_tSugar").value),a=Number(document.getElementById("tempCalibrationHydrometerT1").value),r=Number(document.getElementById("step_sugarTable").value);if(checkTemperature(i,null,a,t,n,e))return;if(checkBoundsRange(isHydrometerT1,l,s,d,t,n,e))return;let o=correctReadingsTemp(isHydrometerT1,l,i,a),c='\n    <table class="table table-sm table-striped align-middle caption-top table-bordered">\n    <caption>\n        <small>* Таблиця розрахована для температури сусла 20 °C</small>\n    </caption>\n      <thead class="table-sticky-thead table-warning">\n        <tr>\n          <th class="text-center">Густина,<br>г/л</th>\n          <th class="text-center">Сухі реч.,<br>мас.% </th>\n          <th class="text-center">Цукристість,<br> г/100 cm<sup>3</sup></th>\n        </tr>\n      </thead>\n      <tbody class="table-group-divider">',u=0,m=0,b=0,v=0;for(let e=s;e<d+1;e+=r)if(e<o||o<s||o>d||isNaN(o)){let t=densityToSugar.f(.001*e);c+=`\n              <tr>\n                <td class="text-center">\n                  <div>${e}</div>\n                </td>\n                <td class="text-center">\n                  <div>${densityToBx.f(.001*e).toFixed(1)}</div>\n                </td>\n                <td class="text-center">\n                  <div>${t.toFixed(2)}</div>\n                </td>\n              </tr>`}else{let t=densityToSugar.f(.001*o),n=densityToBx.f(.001*o);c+=`\n              <tr class="table-primary">\n                <td class="text-center">\n                  <div><b>${formatNumberByPattern(o,"###0.##")}</b>\n                  </div>\n                </td>\n                <td class="text-center">\n                  <div><b>${n.toFixed(2)}</b></div>\n                </td>\n                <td class="text-center">\n                  <div><b>${t.toFixed(2)}</b></div>\n                </td>\n              </tr>`,(checkDecimal(o)||o%r!==0)&&(e-=r),v=densityToBx.f(.001*o)*o*.001-t,u=t,m=n,b=o,o=2e3}if(0===m||0===u)return t.innerHTML="<b>Зверніть увагу!</b></b> Потрібно зменьшити крок розрахунку або змінити межі діапазону вимірювання",t.classList.remove("none-d"),n.classList.add("d-none"),void(n.textContent="");let p=`\n    <div class="px-2">\n            <b>РЕЗУЛЬТАТ:</b>\n            <div class="row">\n                <div class="col-sm-4">Цукристість</div>\n                <div class="col-sm-7 result result2"><b>${u.toFixed(2)}</b> г/100 cm<sup>3</sup></div>\n            </div>\n            <div class="row">\n                <div class="col-sm-4">Сухі речовини</div>\n                <div class="col-sm-7 result result2"><b>${m.toFixed(2)}</b> мас.%</div>\n            </div>\n            <hr class="separator">\n            <b>ДОДАТКОВО:</b>\n             <div class="row">\n                <div class="col-sm-4">Екстракт</div>\n                <div class="col-sm-7 result result2"><b>${(v+u).toFixed(2)}</b> г/100 cm<sup>3</sup></div>\n             </div>\n             <div class="row">\n                <div class="col-sm-4">Зведений екстракт</div>\n                <div class="col-sm-7 result result2"><b>${v.toFixed(2)}</b> г/100 cm<sup>3</sup></div>\n             </div>\n             <div class="row">\n                <div class="col-sm-4">Потенційна спиртуозність</div>\n                <div class="col-sm-7 result result2"><b>${(.592*u).toFixed(2)}</b> об.%</div>\n             </div>\n    </div>\n     `;n.className="alert alert-primary",n.classList.remove("d-none"),n.innerHTML=p,c+="</tbody></table>",e.innerHTML=c}function changeMeasuringDeviceForT1(e){const t=document.getElementById("tabSugar"),n=document.getElementById("resultContainer_tbl1");document.getElementById("alertSugarBox").classList.add("none-d"),n.innerHTML="",n.classList.add("d-none"),t.innerHTML="",e?(updateSelectOptions("lblUpperLimitRangeT1","Верхня межа, г/л","upperLimitRange_t1",densityUpperLimitRangeOptions),updateSelectOptions("lblLowerLimitRangeT1","Нижня межа, г/л","lowerLimitRange_t1",densityLowerLimitRangeOptions),updateSelectOptions("lbl_stepSugarTable","Крок розрахунку<code>(step)</code>, г/л","step_sugarTable",densityStepOptions),updateInputOptions("lblInstrumentReadings","Покази ареометра <code>(D0)</code>, г/л","D0_tSugar","0","Вкажіть початкову густину")):(updateSelectOptions("lblUpperLimitRangeT1","Верхня межа, °Bx","upperLimitRange_t1",bxUpperLimitRangeOptions),updateSelectOptions("lblLowerLimitRangeT1","Нижня межа, °Bx","lowerLimitRange_t1",bxLowerLimitRangeOptions),updateSelectOptions("lbl_stepSugarTable","Крок розрахунку<code>(step)</code>, °Bx","step_sugarTable",bxStepOptions),updateInputOptions("lblInstrumentReadings","Покази рефрактометра <code>(Bx0)</code>, °Bx","D0_tSugar","0","Вкажіть покази рефрактометра")),isHydrometerT1=!isHydrometerT1}function scrollToTab1(){const e=document.getElementById("flush-collapseTabOne");new bootstrap.Collapse(e,{show:!0});e.scrollIntoView({behavior:"smooth"});const t=document.getElementById("description_t1");if(!t.classList.contains("show")){new bootstrap.Collapse(t,{show:!0})}}document.querySelectorAll("#formTable_1 input").forEach(e=>{e.addEventListener("input",()=>{validationInput(e),genSugarTable()})});