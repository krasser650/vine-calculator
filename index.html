<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WineCalc</title>
    <link rel="stylesheet" href="style.css">
<!--    <link rel="stylesheet" href="bootstrap.min.css">-->
    <link rel="shortcut icon" href="icon.ico" type="image/x-ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>

<div class="content">
    <div class="title">
        <h5>КАЛЬКУЛЯТОР ДЕЛЛЕ</h5>
    </div>

    <!-- ==========================SETTINGS===========================================================-->
    <div class="card">
        <div class="card-header text-bg-secondary">Властивості</div>
        <div class="card-body">

            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="switchCheckChecked2"
                       onchange="expandAccordion()">
                <label class="form-check-label" for="switchCheckChecked2">Розгорнути всі вкладинки </label>
            </div>

            <p class="desc">Калькулятор займає <strong>більше місця на экрані</strong> але дає змогу
                контролювати весь процес розрахунків</p>

            <div class="accordion accordion-flush" id="accordionFlushTerminology">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#flush-collapseTerminology"
                                aria-expanded="false"
                                aria-controls="flush-collapseOne">
                            Терміни, що використовуються у розрахунках
                        </button>
                    </h2>
                    <div id="flush-collapseTerminology" class="accordion-collapse collapse"
                         data-bs-parent="#accordionFlushTerminology">
                        <div class="accordion-body">
                            <p class="terminology">
                                <strong>Консервуюча одиниця Делле (CU)</strong> - це число, що показує рівень
                                концентрації
                                спирту та цукру у вині, при якому припиняється бродіння. Вважається,
                                що при досягненні 80 одиниць бродіння зупиняється, що робить вино
                                стабільним і менш схильним до повторного бродіння.<br>
                                <strong>Виноградне сусло</strong> - це свіжовичавлений сік з винограду,
                                включаючи тверді частини, які залишились після пресування.<br>
                                <strong>Цукристість</strong> - це показник вмісту розчинних твердих речовин у
                                винограді, в основному у вигляді сахарози, виражений у г/100см<sup>3</sup>.<br>
                                <strong>Густина</strong> -  це відношення маси сусла до його об'єму, виражене у г/л<br>
                                <strong>Спиртуозність</strong> - це відсоткове співвідношення спирту
                                (етилового) до загального об'єму рідини.<br>
                                <strong>Спиртовмісний матеріал (AM)</strong> – це будь-який матеріал, що містить
                                етиловий спирт, отриманий з харчової сировини, у кількості, що перевищує 0,5% від
                                загального обсягу готової продукції.<br>
                                <strong>Спиртуозність спиртовмісного матеріалу</strong> - це концентрація етилового
                                спирту в цьому матеріалі, виражена у відсотках за обсягом. Іншими словами,
                                це показник того, скільки етилового спирту міститься в даному обсязі рідини.<br>
                                <strong>Спиртування</strong> - це процес додавання спирту або спиртовмісного
                                матеріалу до вина або виноградного сусла. Це робиться для зупинки бродіння або для
                                досягнення певного рівня алкоголю.<br>
                                <strong>Ареометр</strong> у виноробстві використовуеться для вимірювання
                                початкової та кінцевої густини сусла, що дозволяє відстежувати процес бродіння та
                                прогнозувати кінцеві показники.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#flush-collapseFive"
                                aria-expanded="false"
                                aria-controls="flush-collapseTwo">
                            Налаштування
                        </button>
                    </h2>
                    <div id="flush-collapseFive" class="accordion-collapse collapse"
                         data-bs-parent="#accordionFlushTerminology">
                        <div class="accordion-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    <p class="desc"><strong>Одиниця вимірювання</strong> для параметрів
                                        сусла</p>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="radioDefault"
                                               id="radioDefault2" checked
                                               onchange="changeMeasurementMethod(true)">
                                        <label class="form-check-label" for="radioDefault2">
                                            Цукристість, г/100см<sup>3</sup>
                                        </label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="radioDefault"
                                               id="radioDefault1"
                                               onchange="changeMeasurementMethod(false)">
                                        <label class="form-check-label" for="radioDefault1">
                                            Густина, г/л
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" role="switch"
                                               id="switchCheckChecked"
                                               checked
                                               disabled
                                               onchange="changeCalculationSystem()">
                                        <label class="form-check-label" for="switchCheckChecked">Спрощена система
                                            розрахунку</label>
                                    </div>
                                    <p class="desc">Спрощена система <strong>не включає в розрахунок</strong>
                                        початкову спиртуозність, температуру, зменшення загального об'єму
                                        (контракцію) сусла після спиртування, а також зниження спиртуозності вина при
                                        його
                                        зберіганні</p>
                                </li>
                                <li class="list-group-item">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" role="switch"
                                               id="history_id"
                                               onchange="showAccordionItemHistory()">
                                        <label class="form-check-label" for="history_id">Історія
                                            розрахунків</label>
                                    </div>
                                    <p class="desc">Можливість збереження та перегляду п'яти останніх розрахунків</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <form class="form" id="calcForm">
        <div class="card">
            <div class="card-header text-bg-secondary">Початкові дані та розрахунки</div>
            <div class="card-body">

                <!-- ==========================ACCORDION===========================================================-->
                <div class="accordion accordion-flush" id="accordionId">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#flush-collapseOne"
                                    aria-expanded="false"
                                    aria-controls="flush-collapseOne">
                                <strong>КРОК № 1</strong> : Правило Делле
                            </button>
                        </h2>
                        <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionId">
                            <div class="accordion-body">
                                <p class="desc">Визначте концентрацію цукру та спирту у майбутньому вині.
                                    Кількість <strong>консервуючих одиниць</strong> (далі CU) за розрахунком
                                    повинна складати<strong> 80 або більше</strong></p>
                                <div class="mb-3">
                                    <label for="sugarTarget" class="form-label">Цукристість <code>(St)</code> ,
                                        г/100см<sup>3</sup></label>
                                    <input type="number" class="form-control" id="sugarTarget" name="sugarTargetName"
                                           required value="0" min="1" max="35" step="0.1"
                                           placeholder="Вкажіть бажаний відсоток цукристості" oninput="calculateCU()">
                                </div>
                                <div class="mb-3">
                                    <label for="alcoholTarget" class="form-label">Спиртуозність <code>(At)</code>, об. %</label>
                                    <input type="number" class="form-control" id="alcoholTarget"
                                           name="alcoholTargetName"
                                           required value="0" min="1" max="35" step="0.1"
                                           placeholder="Вкажіть бажаний відсоток спиртуозності" oninput="calculateCU()">
                                </div>
                                <div class="cof-dell">
                                    <h5 id="conservationUnit"
                                        data-bs-toggle="tooltip" data-bs-placement="top"
                                        data-bs-custom-class="custom-tooltip"
                                        data-bs-title="Має бути 80 або більше"
                                    >Кількість CU : не розраховано</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#flush-collapseTwo"
                                    aria-expanded="false"
                                    aria-controls="flush-collapseTwo">
                                <strong>КРОК № 2</strong>: Початкові дані
                            </button>
                        </h2>
                        <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionId">
                            <div class="accordion-body">
                                <div id="wortParameter_id">
                                    <div id="parameter_id">
                                        <p class="desc">Додайте показники цукристості сусла, його об'єм та
                                            спиртуозність <strong>спиртовмісного матеріалу</strong> (далі AМ)
                                            , яким плануєте проводити стабілізацію</p>
                                        <div class="mb-3">
                                            <label for="S0" class="form-label">Початкова цукристість
                                                сусла <code> (S0)</code>, г/100см<sup>3</sup></label>
                                            <input type="number" class="form-control" id="S0" name="S0Name"
                                                   value="0" min="15" max="35" step="0.5"
                                                   placeholder="Початкова цукристість" oninput="resetResult()">
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="V0" class="form-label">Початковий об'єм сусла <code> (V0)</code>,
                                        л</label>
                                    <input type="number" class="form-control" id="V0" name="V0Name"
                                           value="0" min="1" max="500" step="1"
                                           placeholder="Початковий об'єм" oninput="resetResult()">
                                </div>

                                <div class="mb-3">
                                    <label for="As" class="form-label">Спиртуозність AM <code> (As)</code>, об.
                                        %</label>
                                    <input type="number" class="form-control" id="As" name="AsName"
                                           value="0" min="50" max="100"
                                           step="0.1" placeholder="Спиртуозність спиртовмісного матеріалу"
                                           oninput="resetResult()">
                                </div>
                                <div class="mb-3" id="alcoholBlendSugar_id">
                                    <label for="Ss" class="form-label">Цукристість AM, <code> (Ss)</code>
                                        г/100см<sup>3</sup></label>
                                    <input type="number" class="form-control" id="Ss" name="SsName"
                                           value="0" min="0" max="50"
                                           step="0.5" placeholder="Цукристість спиртовмісного матеріалу"
                                           oninput="resetResult()">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#flush-collapseFour"
                                    aria-expanded="false"
                                    aria-controls="flush-collapseFour">
                                <strong>КРОК № 3</strong> : Результат
                            </button>
                        </h2>
                        <div id="flush-collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionId">
                            <div class="accordion-body">
                                <p class="desc">Результат перераховується <strong>автоматично</strong> при внесенні змін
                                    у початкові дані, а також у параметри, яких необхідно досягти.
                                </p>
                                <div id="resultBox" class="alert alert-secondary">Заповніть кроки 1 та 2</div>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-center m-b-10">
                                <button class="btn btn-outline-secondary" type="button" onclick="resetAll()">
                                    <i class="bi bi-reply-fill"></i> Скинути
                                </button>
                                <button class="btn btn-outline-primary" type="button" onclick="calcResult()">
                                     Перерахувати
                                </button>
                                <button id="saveCalcBtn" class="btn btn-outline-success d-none" type="button">
                                    <i class="bi bi-floppy2-fill"></i> Зберегти
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item d-none" id="history-item_id">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#flush-collapseSix"
                                    aria-expanded="false"
                                    aria-controls="flush-collapseSix">
                                <strong>ІСТОРІЯ</strong>&nbsp;розрахунків
                            </button>
                        </h2>
                        <div id="flush-collapseSix" class="accordion-collapse collapse" data-bs-parent="#accordionId">
                            <div class="accordion-body">
                                <!-- История -->
                                <div id="historyBox"></div>
<!--                                <div class="d-grid gap-2 d-md-flex justify-content-md-center">-->
<!--                                    <button id="clearHistoryBtn" class="btn btn-outline-danger btn-sm">-->
<!--                                        <i class="bi bi-trash"></i> Видалити всі записи-->
<!--                                    </button>-->
<!--                                </div>-->

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast container -->
        <div class="toast-container position-fixed bottom-0 end-0 p-3" id="toastContainer"></div>
    </form>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
<script src="script.js"></script>
<!--<script src="bootstrap.bundle.min.js"></script>-->
</body>
</html>
